<body>
<div *ngIf="!needInvest" >
  <img style="width: 2%;margin-left: 5%;" src="../../../assets/img/done.png" >
  <br>
 </div>

<div class="row"  >
    <div  style="margin-left: 5%; margin-top: 3%;" class="col-xl-3 col-md-6 mb-4" >
      <div class="card border-left-primary shadow h-100 py-2">
        <div class="card-body">
          <div class="row no-gutters align-items-center">
            <div class="col mr-2">
              <div class="text-xs font-weight-bold text-primary text-uppercase mb-1"  >{{p.title}}</div>
              <div class="h5 mb-0 font-weight-bold text-gray-800">Budget : {{p.budget}} DT</div>
              <div class="h5 mb-0 font-weight-bold text-gray-800">Total fund : {{p.totalFund}} DT</div>

              <div class="h5 mb-0 font-weight-bold text-gray-800">{{p.description}}</div> 


            </div>
            <div class="col-auto">
              <i class="fas fa-calendar fa-2x text-gray-300"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>   

  
  <div *ngIf="needInvest && !verif">   
   <form [formGroup]="investmentForm" (ngSubmit)="invest()"  > 
  <input formControlName="investment"  type="number"  /> 
  <div *ngIf="submit && investmentForm.get('investment').errors" > 
    dfdfddfd
    <div *ngIf="investmentForm.get('investment').errors?.required">amount is required </div>

</div>

 
  <button type="submit"  > invest</button>
   </form>
  </div> 

  <div class="container">
    <div *ngIf="feed?.length!=0" > 
      <h3> Feedback </h3>
   <div style="margin-bottom: 2%;" *ngFor="let f of feed" class="row">
    
   <div class="col-sm-1">
   <div class="thumbnail">
   </div><!-- /thumbnail -->
   </div><!-- /col-sm-1 -->
   
   <div class="col-sm-5">
   <div class="panel panel-default">
   <div class="panel-heading"> 
     <strong>{{f.idInvestor}}</strong> <span class="text-muted">{{f.date |date:'medium' }}</span>
 
   </div>
   <div class="panel-body">
     <div [innerHTML]="f.content"></div> 
 
   </div>
   </div>
   </div>
   </div>   
 
 <hr>
 </div>
   <br>  
 </div>
     
     <hr>

  <form (ngSubmit)="onSubmit()" style="margin-left: 20%; width: 50%;">
    <ckeditor  [(ngModel)]="data" name="data"></ckeditor>
  
    <button style="margin-top: 1%;" class="btn btn-primary" > add </button>
    <button style="margin-top: 1%;margin-left: 2%;" class="btn btn-light" (click)="backHome()" > Back </button>

  </form> 


  
  <div style="height: 100%;" *ngIf="idChat" >  
    <section class="msger">
      <header class="msger-header">
        <div class="msger-header-title">
          <i class="fas fa-comment-alt"></i> Chat investors & client
        </div>
        <div class="msger-header-options">
          <span><i class="fas fa-cog"></i></span>
        </div>
      </header>
      <main class="msger-chat" *ngFor="let msg of chat.idMessages"> 


        <div  class="msg left-msg" *ngIf="msg.idUser==idUser" > 
         
          <div class="msg-img"
           style="background-image: url(https://image.flaticon.com/icons/svg/327/327779.svg)"> </div>
    
          <div class="msg-bubble">
            <div class="msg-info"> 
              <div *ngIf="msg.detailsClient">
              <div class="msg-info-name">{{msg.detailsClient}}</div>
            </div> 
            <div *ngIf="msg.detailsInvestor">
              <div class="msg-info-name">{{msg.detailsInvestor}}</div>
            </div>
              <div class="msg-info-time">{{msg.date |date:'medium'}}</div>
            </div>
    
            <div class="msg-text">
                
              {{msg.message}}

            </div>
          </div>
        </div>
    
        <div class="msg right-msg" *ngIf="msg.idUser!=idUser" >
          <div
           class="msg-img"
           style="background-image: url(https://image.flaticon.com/icons/svg/145/145867.svg)"
          ></div>
    
          <div class="msg-bubble">
            <div class="msg-info">
              <div *ngIf="msg.detailsClient">
                <div class="msg-info-name">{{msg.detailsClient}}</div>
              </div> 
              <div *ngIf="msg.detailsInvestor">
                <div class="msg-info-name">{{msg.detailsInvestor}}</div>
              </div>
              <div class="msg-info-time">{{msg.date |date:'medium'}}</div>
            </div>
    
            <div class="msg-text">
              {{msg.message}}
            </div>
          </div>
        </div>
      </main> 
    
      <form class="msger-inputarea">
        <input [ngModelOptions]="{standalone: true}" [(ngModel)]="message" type="text" class="msger-input" placeholder="Enter your message...">
        <button (click)="sendMessage()" type="submit" class="msger-send-btn">Send</button>
      </form>
    </section>
  
    

  </div>
  





</body>






